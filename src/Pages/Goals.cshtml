@page
@model ePiggyWeb.Pages.GoalsModel

<br />
<h2 class="text-info">Goals</h2>

<form method="post" asp-page-handler="NewGoal">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input asp-for="Title" type="text" placeholder="Title" value="" />
    <span asp-validation-for="Title" class="text-danger"></span>
    <input asp-for="Amount" type="text" placeholder="Amount" value="" />
    <span asp-validation-for="Amount" class="text-danger"></span>
    <input type="submit" value="Add" class="btn btn-primary ml-5" />
    <input class="btn btn-danger ml-2" type="reset" value="Reset">
</form>
@if (!Model.Goals.Any())
{
    <!--SMTH-->
}
else
{
    var num = 0;
<form method="post">
    @foreach (var item in Model.Goals)
    {
        if (num % 3 == 0)
        {
            @Html.Raw("<div class=\"row p-0 mx-auto mt-3\">")
        }
        <div class="border m-3 bg-primary col-sm">
            <button asp-page-handler="Delete" asp-route-id="@item.Id" class="btn btn-primary float-right" type="submit"><i class="far fa-trash-alt text-danger "></i></button>
            <div class="clearfix"></div>
            <h3 class="text-light problematic-title">@item.Title</h3>
            <div class="progress mt-4">
                <div class="progress-bar bg-success" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
            </div>
            <h5 class="text-light">25.00/@item.Amount</h5>
            <button asp-page-handler="Purchased" asp-route-id="@item.Id" asp-route-title="@item.Title" asp-route-amount="@item.Amount" class="btn btn-primary" type="submit"><i class="fas fa-shopping-cart fa-2x text-success"></i></button>
        </div>
        num++;
        if (num % 3 == 0)
        {
            @Html.Raw("</div>")
        }
    }
</form>
    if (num % 3 != 0)
    {
        @Html.Raw("</div>")
    }
}



<div class="container bg-primary border p-0 mx-auto mt-3 mb-5">
    <h2 class="text-light mt-5 mb-5">Click on Goal to get suggestions.</h2>
    <!--Table here somewhere-->
</div>

